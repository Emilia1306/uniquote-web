<div class="card">
    <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">Cambiar Contraseña Temporal</h2>

    <p class="text-sm text-gray-600 mb-4 text-center">
        Es tu primer inicio de sesión. Por seguridad, debes establecer una nueva contraseña.
    </p>

    <form (ngSubmit)="submit()" class="space-y-4">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Nueva Contraseña</label>
            <input type="password" [(ngModel)]="newPassword" name="newPassword"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                required minlength="8" placeholder="Mínimo 8 caracteres">
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Confirmar Contraseña</label>
            <input type="password" [(ngModel)]="confirmPassword" name="confirmPassword"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                required>
        </div>

        <div *ngIf="error()" class="p-3 bg-red-100 text-red-700 rounded-md text-sm">
            {{ error() }}
        </div>

        <div *ngIf="success()" class="p-3 bg-green-100 text-green-700 rounded-md text-sm">
            {{ success() }}
        </div>

        <button type="submit" [disabled]="loading() || !newPassword || !confirmPassword"
            class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium">
            <span *ngIf="loading()">Procesando...</span>
            <span *ngIf="!loading()">Establecer Contraseña</span>
        </button>
    </form>
</div>